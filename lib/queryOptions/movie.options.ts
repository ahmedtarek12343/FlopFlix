import { queryOptions } from "@tanstack/react-query";
import tmdb from "../tmdb";
import omdb from "../omdb";
import { MovieType } from "@/types/types";
import { MovieFilters } from "@/store/filters.store";

export const movieOptions = queryOptions({
  queryKey: ["movies"],
  queryFn: async () => {
    const [moviesRes, genresRes] = await Promise.all([
      tmdb.get("/discover/movie"),
      tmdb.get("/genre/movie/list"),
    ]);
    const movies = moviesRes.data;
    const genres = genresRes.data.genres;

    const moviesWithGenres = movies.results.map((movie: MovieType) => {
      return {
        ...movie,
        genres: movie.genre_ids.map((id) => {
          return genres.find(
            (genre: { id: number; name: string }) => genre.id === id
          )?.name;
        }),
      };
    });
    return moviesWithGenres;
  },
});

export const movieOptionsByPageNum = (
  pageNum: number,
  filters: MovieFilters
) => {
  return queryOptions({
    queryKey: ["content", pageNum, JSON.stringify(filters)],
    queryFn: async () => {
      const isMovie = filters.type === "movie";

      const response = await tmdb.get(`/discover/${filters.type}`, {
        params: {
          page: pageNum,
          sort_by: filters.sortBy,
          with_genres: filters.genres.join(","),
          ...(filters.year && {
            [isMovie ? "year" : "first_air_date_year"]: filters.year,
          }),
        },
      });

      const results = response.data.results;
      return results;
    },
  });
};

export const searchMovieOptions = (query: string) => {
  return queryOptions({
    queryKey: ["search-movies", query],
    queryFn: async () => {
      const moviesRes = await tmdb.get("/search/movie", {
        params: {
          query: query,
        },
      });
      const movies = moviesRes.data;
      return movies.results;
    },
  });
};

const RatingLogos = {
  "Internet Movie Database":
    "data:image/png;base64,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",
  "Rotten Tomatoes":
    "data:image/jpeg;base64,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",
  Metacritic:
    "data:image/png;base64,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",
};

export const movieOptionsById = (id: number) => {
  return queryOptions({
    queryKey: ["movie", id],
    queryFn: async (): Promise<MovieType> => {
      const dataRes = await tmdb.get(`/movie/${id}`, {
        params: {
          append_to_response:
            "images,videos,credits,recommendations,similar,release_dates,reviews,keywords",
        },
      });
      const data = dataRes.data;

      const omdbRes = await omdb.get(`/?i=${data.imdb_id}`);
      const omdbData = omdbRes.data;
      const movie = {
        ...data,
        ...(omdbData || {}),
        Ratings:
          omdbData.Ratings.map((rating: any) => ({
            ...rating,
            Image: RatingLogos[rating.Source as keyof typeof RatingLogos],
          })) || [],
      };
      return movie;
    },
  });
};

export const genreOptions = () => {
  return queryOptions({
    queryKey: ["genres"],
    queryFn: async () => {
      const genresRes = await tmdb.get("/genre/movie/list");
      const genres = genresRes.data.genres;
      return genres;
    },
  });
};
